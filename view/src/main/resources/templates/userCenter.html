<!DOCTYPE html>
<!--[if IE 7]> <html lang="en" class="ie7"> <![endif]-->
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!--> <html lang="en"> <!--<![endif]-->
<head>
    <title>User Profile | Welcome...</title>

    <!-- Meta -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <!-- CSS Global Compulsory-->
    <link rel="stylesheet" href="/plugins/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/header.css" />
    <link rel="stylesheet" href="/plugins/bootstrap/css/bootstrap-responsive.min.css" />
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/style_responsive.css" />
    <link rel="stylesheet" href="/css/zoom.css" media="all" type='text/css' /> <!--图片弹出层样式 必要样式-->
    <!--     <link rel="shortcut icon" href="favicon.ico" />      -->
    <!-- CSS Implementing Plugins -->
    <link rel="stylesheet" href="/plugins/font-awesome/css/font-awesome.css" />
    <link href="/plugins/glyphicons/css/glyphicons.css" rel="stylesheet" />
    <!-- CSS pie chart -->
    <link rel="stylesheet" type="text/css" href="/css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="/css/postbutton.css" />
    <!-- CSS Theme -->
    <!--     <link rel="stylesheet" href="assets/css/themes/default.css" id="style_color" /> -->
    <!--     <link rel="stylesheet" href="assets/css/themes/headers/default.css" id="style_color-header-1" />   -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /></head>

<body>
<!--=== Top ===-->
<div class="top">
    <div class="container">
        <ul class="loginbar pull-right">
            <li style="visibility:visible;"><a href="login" class="login-btn">Login</a></li>
            <li class="devider" style="visibility:visible;">&nbsp;</li>
            <li style="visibility:visible;"><a href="register" class="login-btn">Register</a></li>
            <li class="devider" style="visibility:visible;">&nbsp;</li>
            <li style="visibility:visible;"><a href="userCenter.html" class="login-btn" style="text-transform: none;"><img class="media-object" src="assets/img/unlogin.png" alt="" /> UserCenter</a></li>
            <li class="devider" style="visibility:visible;">&nbsp;</li>
            <li style="visibility:visible;"><a href="messages" class="login-btn">Messages</a></li>
            <li class="devider" style="visibility:visible;">&nbsp;</li>
            <li style="visibility:visible;"><a href="login.html" class="login-btn">Log out</a></li>
        </ul>
    </div>
</div><!--/top-->
<!--=== End Top ===-->

<!--=== Header ===-->
<div class="header margin-bottom-20">
    <div class="container">

        <!-- Menu -->
        <div class="navbar">
            <div class="navbar-inner">
                <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a><!-- /nav-collapse -->
                <div class="nav-collapse collapse">
                    <ul class="nav top-2">
                        <li>
                            <a href="mainpage.html" class="dropdown-toggle">Home
                            </a>
                            <b class="caret-out"></b>
                        </li>
                        <li>
                            <a href="mainpage.html" class="dropdown-toggle">Daily life
                            </a>
                            <b class="caret-out"></b>
                        </li>
                        <li>
                            <a href="mainpage.html" class="dropdown-toggle">Entertainment
                            </a>
                            <b class="caret-out"></b>
                        </li>
                        <li>
                            <a href="mainpage.html" class="dropdown-toggle">Artwork
                            </a>
                            <b class="caret-out"></b>
                        </li>
                        <li>
                            <a href="mainpage.html" class="dropdown-toggle">Sport
                            </a>
                            <b class="caret-out"></b>
                        </li>
                        <li>
                            <a href="mainpage.html" class="dropdown-toggle">Social Event
                            </a>
                            <b class="caret-out"></b>
                        </li>
                        <li>
                            <a href="mainpage.html" class="dropdown-toggle">Fashion
                            </a>
                            <b class="caret-out"></b>
                        </li>
                        <li><a class="search"><i class="icon-search search-btn"></i></a></li>
                    </ul>
                    <div class="search-open">
                        <div class="input-append">
                            <form action="searchResult.html" method="get">
                                <input type="text" class="span3" placeholder="Search" name="query" />
                                <button type="submit" class="btn-u">Go</button>
                            </form>
                        </div>
                    </div>
                </div><!-- /nav-collapse -->
            </div><!-- /navbar-inner -->
        </div><!-- /navbar -->
    </div><!-- /container -->
</div><!--/header -->
<!--=== End Header ===-->

<!-- Purchase Block -->
<div class="row-fluid margin-bottom-20">
    <div class="container">
        <div class="span1" style="height:10px;"></div>
        <div class="span10" style="border:solid 1px #e5e5e5;">
            <div class="basic-info-banner" style="background-image: url('assets/img/sliders/revolution/bg4.jpg');"></div>
            <div class="basic-info">
                <div class="basic-info-img">
                    <div class="basic-info-img-inner"><img src="assets/img/work/work3.jpg"/></div>
                </div>
                <div class="basic-info-content">
                    <div class="basic-info-contentHead">Donald Trump<div id="heartbtn"><div class="heart" id="like1" rel="like" style="background: url(assets/img/web_heart_animation.png);"></div></div></div>
                    <div class="basic-info-description">My personal description. My personal description. My personal description. My personal description.</div>
                </div>
            </div>
        </div>
    </div>
</div><!--/row-fluid-->
<!-- End Purchase Block -->

<!--=== Content Part ===-->
<div class="container">
    <div class="row-fluid">
        <!-- Left Sidebar(Content Part) -->
        <div class="span1" style="height:10px;"></div>
        <div class="span10">

            <!-- Tabs -->
            <ul class="nav nav-tabs tabs">
                <li class="active"><a href="#post" data-toggle="tab">Post</a></li>
                <li><a href="#star" data-toggle="tab">Star</a></li>
                <li><a href="#history" data-toggle="tab">History</a></li>
                <li><a href="#follow" data-toggle="tab">Follow</a></li>
                <li><a href="#beFollowed" data-toggle="tab">Be Followed</a></li>
                <li><a href="#information" data-toggle="tab">Information</a></li>
                <li><a href="#security" data-toggle="tab">Security</a></li>
            </ul><!--/tabs-->

            <div class="tab-content margin-bottom-20">
                <div class="tab-pane active" id="post">
                    <div class="headline"><h4>My posted questions</h4></div>
                    <div class="ps-post-title">
                        <a href="commentPage.html" style="text-decoration: none;">
                            <blockquote>
                                <div class="ps-post-time">1 hr ago</div>
                                <button type="button" class="close" data-dismiss="alert"><i class="icon-trash"></i></button>
                                <h4><strong>Is he the best president in the history of American?</strong></h4>
                            </blockquote></a>
                    </div>
                    <div class="ps-post-title">
                        <a href="commentPage2.html" style="text-decoration: none;">
                            <blockquote>
                                <div class="ps-post-time">2 days ago</div>
                                <button type="button" class="close" data-dismiss="alert"><i class="icon-trash"></i></button>
                                <h4><strong>How to make friends with China?</strong></h4>
                            </blockquote></a>
                    </div>
                    <div class="ps-post-title">
                        <a href="commentPage.html" style="text-decoration: none;">
                            <blockquote>
                                <div class="ps-post-time">3 days ago</div>
                                <button type="button" class="close" data-dismiss="alert"><i class="icon-trash"></i></button>
                                <h4><strong>Is he the best president in the history of American?</strong></h4>
                            </blockquote></a>
                    </div>
                    <div class="ps-post-title">
                        <a href="commentPage.html" style="text-decoration: none;">
                            <blockquote>
                                <div class="ps-post-time">1 week ago</div>
                                <button type="button" class="close" data-dismiss="alert"><i class="icon-trash"></i></button>
                                <h4><strong>Is he the best president in the history of American?</strong></h4>
                            </blockquote></a>
                    </div>
                </div>
                <div class="tab-pane" id="star">
                    <div class="headline"><h4>My collection</h4></div>
                    <div class="ps-post-title">
                        <a href="commentPage.html" style="text-decoration: none;">
                            <blockquote>
                                <div class="ps-post-time">1 hr ago</div>
                                <button type="button" class="close" data-dismiss="alert"><i class="icon-trash"></i></button>
                                <h4><strong>Is he the best president in the history of American?</strong></h4>
                            </blockquote></a>
                    </div>
                    <div class="ps-post-title">
                        <a href="commentPage2.html" style="text-decoration: none;">
                            <blockquote>
                                <div class="ps-post-time">2 days ago</div>
                                <button type="button" class="close" data-dismiss="alert"><i class="icon-trash"></i></button>
                                <h4><strong>How to make friends with China?</strong></h4>
                            </blockquote></a>
                    </div>
                    <div class="ps-post-title">
                        <a href="commentPage.html" style="text-decoration: none;">
                            <blockquote>
                                <div class="ps-post-time">3 days ago</div>
                                <button type="button" class="close" data-dismiss="alert"><i class="icon-trash"></i></button>
                                <h4><strong>Is he the best president in the history of American?</strong></h4>
                            </blockquote></a>
                    </div>
                    <div class="ps-post-title">
                        <a href="commentPage.html" style="text-decoration: none;">
                            <blockquote>
                                <div class="ps-post-time">1 week ago</div>
                                <button type="button" class="close" data-dismiss="alert"><i class="icon-trash"></i></button>
                                <h4><strong>Is he the best president in the history of American?</strong></h4>
                            </blockquote></a>
                    </div>
                </div>
                <div class="tab-pane" id="history">
                    <div class="headline"><h4>My voted history</h4></div>
                    <div class="ps-post-title">
                        <a href="commentPage.html" style="text-decoration: none;">
                            <blockquote>
                                <div class="ps-post-time">1 hr ago</div>
                                <h4><strong>Is he the best president in the history of American?</strong><i class="icon-thumbs-up color-green"></i></h4>
                            </blockquote></a>
                    </div>
                    <div class="ps-post-title">
                        <a href="commentPage2.html" style="text-decoration: none;">
                            <blockquote>
                                <div class="ps-post-time">2 days ago</div>
                                <h4><strong>How to make friends with China?</strong><i class="icon-thumbs-down color-green"></i></h4>
                            </blockquote></a>
                    </div>
                    <div class="ps-post-title">
                        <a href="commentPage.html" style="text-decoration: none;">
                            <blockquote>
                                <div class="ps-post-time">3 days ago</div>
                                <h4><strong>Is he the best president in the history of American?</strong><i class="color-green">A</i></h4>
                            </blockquote></a>
                    </div>
                    <div class="ps-post-title">
                        <a href="commentPage.html" style="text-decoration: none;">
                            <blockquote>
                                <div class="ps-post-time">1 week ago</div>
                                <h4><strong>Is he the best president in the history of American?</strong><i class="color-green">D</i></h4>
                            </blockquote></a>
                    </div>
                </div>
                <div class="tab-pane" id="follow">
                    <div class="headline"><h4>My followed users</h4></div>
                    <ul class="thumbnails team">
                        <li class="span3">
                            <div class="thumbnail-style">
                                <a href="userCenter.html">
                                    <img src="assets/img/others/2.jpg" alt="" style="width:100%; height:auto;" /></a>
                                <h3><a href="userCenter.html">Jack Bour</a></h3>
                                <small><a class="glyphicons no-js user"><i></i></a>
                                    <a class="glyphicons no-js calendar" style="margin-left: 40px;width:20px;"><i></i></a><span style="font-size:18px;">34</span>
                                </small>
                                <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, justo sit amet risus etiam porta sem...</p>
                            </div>
                        </li>
                        <li class="span3">
                            <div class="thumbnail-style">
                                <a href="userCenter.html">
                                    <img src="assets/img/others/7.jpg" alt="" style="width:100%; height:auto;" /></a>
                                <h3><a href="userCenter.html">Kate Metus</a></h3>
                                <small><a class="glyphicons no-js woman"><i></i></a>
                                    <a class="glyphicons no-js calendar" style="margin-left: 40px;width:20px;"><i></i></a><span style="font-size:18px;">32</span>
                                </small>
                                <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, justo sit amet risus etiam porta sem...</p>
                            </div>
                        </li>
                        <li class="span3">
                            <div class="thumbnail-style">
                                <a href="userCenter.html">
                                    <img src="assets/img/others/3.jpg" alt="" style="width:100%; height:auto;" /></a>
                                <h3><a href="userCenter.html">Porta Gravida</a></h3>
                                <small><a class="glyphicons no-js woman"><i></i></a>
                                    <a class="glyphicons no-js calendar" style="margin-left: 40px;width:20px;"><i></i></a><span style="font-size:18px;">35</span>
                                </small>
                                <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, justo sit amet risus etiam porta sem...</p>
                            </div>
                        </li>
                        <li class="span3">
                            <div class="thumbnail-style">
                                <a href="userCenter.html">
                                    <img src="assets/img/others/6.jpg" alt="" style="width:100%; height:auto;" /></a>
                                <h3><a href="userCenter.html">Donec Elit</a></h3>
                                <small><a class="glyphicons no-js user"><i></i></a>
                                    <a class="glyphicons no-js calendar" style="margin-left: 40px;width:20px;"><i></i></a><span style="font-size:18px;">29</span>
                                </small>
                                <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, justo sit amet risus etiam porta sem...</p>
                            </div>
                        </li>
                    </ul><!--/thumbnails-->
                </div>
                <div class="tab-pane" id="beFollowed">
                    <div class="headline"><h4>Users following me</h4></div>
                    <ul class="thumbnails team">
                        <li class="span3">
                            <div class="thumbnail-style">
                                <a href="userCenter.html">
                                    <img src="assets/img/others/4.jpg" alt="" style="width:100%; height:auto;" /></a>
                                <h3><a href="userCenter.html">Alice Johnson</a></h3>
                                <small><a class="glyphicons no-js woman"><i></i></a>
                                    <a class="glyphicons no-js calendar" style="margin-left: 40px;width:20px;"><i></i></a><span style="font-size:18px;">45</span>
                                </small>
                                <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, justo sit amet risus etiam porta sem...</p>
                            </div>
                        </li>
                        <li class="span3">
                            <div class="thumbnail-style">
                                <a href="userCenter.html">
                                    <img src="assets/img/others/5.jpg" alt="" style="width:100%; height:auto;" /></a>
                                <h3><a href="userCenter.html">Bob Smith</a></h3>
                                <small><a class="glyphicons no-js man"><i></i></a>
                                    <a class="glyphicons no-js calendar" style="margin-left: 40px;width:20px;"><i></i></a><span style="font-size:18px;">38</span>
                                </small>
                                <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, justo sit amet risus etiam porta sem...</p>
                            </div>
                        </li>
                        <li class="span3">
                            <div class="thumbnail-style">
                                <a href="userCenter.html">
                                    <img src="assets/img/others/8.jpg" alt="" style="width:100%; height:auto;" /></a>
                                <h3><a href="userCenter.html">Charlie Brown</a></h3>
                                <small><a class="glyphicons no-js man"><i></i></a>
                                    <a class="glyphicons no-js calendar" style="margin-left: 40px;width:20px;"><i></i></a><span style="font-size:18px;">42</span>
                                </small>
                                <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, justo sit amet risus etiam porta sem...</p>
                            </div>
                        </li>
                        <li class="span3">
                            <div class="thumbnail-style">
                                <a href="userCenter.html">
                                    <img src="assets/img/others/9.jpg" alt="" style="width:100%; height:auto;" /></a>
                                <h3><a href="userCenter.html">Diana Prince</a></h3>
                                <small><a class="glyphicons no-js woman"><i></i></a>
                                    <a class="glyphicons no-js calendar" style="margin-left: 40px;width:20px;"><i></i></a><span style="font-size:18px;">37</span>
                                </small>
                                <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, justo sit amet risus etiam porta sem...</p>
                            </div>
                        </li>
                    </ul><!--/thumbnails-->
                </div>
                <div class="tab-pane" id="information">
                    <div class="headline"><h4>Personal Information</h4></div>
                    <div class="profile-picture-container text-center">
                        <img id="profilePicture" src="assets/img/work/work3.jpg" alt="Profile Picture" width="150" height="150" style="border-radius: 50%;">
                        <input type="file" id="newProfilePicture" accept="image/*" style="display:none;">
                    </div>
                    <form id="infoForm">
                        <div class="control-group">
                            <label class="control-label" for="name">Name:</label>
                            <div class="controls">
                                <input type="text" class="span6" id="name" value="Donald Trump" readonly>
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label" for="age">Age:</label>
                            <div class="controls">
                                <input type="number" class="span6" id="age" value="77" readonly>
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label" for="gender">Gender:</label>
                            <div class="controls">
                                <select class="span6" id="gender" disabled>
                                    <option value="male" selected>Male</option>
                                    <option value="female">Female</option>
                                </select>
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label" for="occupation">Occupation:</label>
                            <div class="controls">
                                <input type="text" class="span6" id="occupation" value="Businessman" readonly>
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label" for="bio">Bio:</label>
                            <div class="controls">
                                <textarea class="span6" id="bio" rows="3" readonly>My personal description. My personal description. My personal description. My personal description.</textarea>
                            </div>
                        </div>
                        <button type="button" class="btn btn-primary" id="editInfoBtn">Edit Information</button>
                        <button type="button" class="btn btn-success" id="saveInfoBtn" style="display:none;">Save Changes</button>
                    </form>
                </div>
                <div class="tab-pane" id="security">
                    <div class="headline"><h4>Account Security</h4></div>
                    <form id="changePasswordForm">
                        <div class="control-group">
                            <label class="control-label" for="newPassword">New Password:</label>
                            <div class="controls">
                                <input type="password" class="span6" id="newPassword" required>
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label" for="confirmPassword">Confirm New Password:</label>
                            <div class="controls">
                                <input type="password" class="span6" id="confirmPassword" required>
                            </div>
                        </div>
                        <button type="button" class="btn btn-primary" id="changePasswordBtn">Save New Password</button>
                    </form>
                    <div id="passwordMismatchAlert" class="alert alert-error" style="display:none;">
                        The passwords you entered do not match.
                    </div>
                </div><!--/ tab-pane -->
            </div><!--/tab-content-->
        </div><!--/span9-->
    </div><!-- /row-fluid -->
    <!-- //End Container -->
</div><!--/container-->
<!--=== End Content Part ===-->

<!--=== Copyright ===-->
<div class="copyright">
    <div class="container">
        <div class="row-fluid">
            <div class="span8">
                <!-- start-copyright -->
                <p>Copyright @ 2017 How To Chooose Community. All Rights Reserved.</p>
                <!-- end-copyrigh -->
            </div>
            <div class="span4">
                <a href="index.html"><img id="logo-footer" src="assets/img/htc_logo.png" class="pull-right" alt="" /></a>
            </div>
        </div><!--/row-fluid-->
    </div><!--/container-->
</div><!--/copyright-->
<!--=== End Copyright ===-->

<!-- JS Global Compulsory -->
<script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="/plugins/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/assets/js/zoom.min.js"></script> <!-- image extension -->
<!-- JS Implementing Plugins -->
<script type="text/javascript" src="/assets/plugins/back-to-top.js"></script>
<!-- JS Page Level -->
<script type="text/javascript" src="/assets/js/app.js"></script>
<script>
    $(document).ready(function() {
        $('#heartbtn').on("click", '.heart', function() {
            var A = $(this).attr("id");
            var B = A.split("like");
            var messageID = B[1];
            var C = parseInt($("#likeCount" + messageID).html());
            $(this).css("background-position", "")
            var D = $(this).attr("rel");

            if (D === 'like') {
                $("#likeCount" + messageID).html(C + 1);
                $(this).addClass("heartAnimation").attr("rel", "unlike");
            } else {
                $("#likeCount" + messageID).html(C - 1);
                $(this).removeClass("heartAnimation").attr("rel", "like");
                $(this).css("background-position", "left");
            }
        });

        // Tab switching functionality
        $('.nav.nav-tabs a').on('click', function(e) {
            e.preventDefault();
            $(this).tab('show');
        });

        // Edit and Save Information Functionality
        $('#editInfoBtn').click(function() {
            $('#name, #age, #occupation, #bio').prop('readonly', false);
            $('#gender').prop('disabled', false);
            $('#editInfoBtn').hide();
            $('#saveInfoBtn').show();
            $('#profilePicture').hide();
            $('#newProfilePicture').show();
        });

        $('#saveInfoBtn').click(function() {
            const userInfo = {
                name: $('#name').val(),
                age: $('#age').val(),
                gender: $('#gender').val(),
                occupation: $('#occupation').val(),
                bio: $('#bio').val()
            };

            const fileInput = document.getElementById('newProfilePicture');
            let profilePictureFile = null;
            if (fileInput.files.length > 0) {
                profilePictureFile = fileInput.files[0];
            }

            const formData = new FormData();
            formData.append('userInfo', JSON.stringify(userInfo));
            if (profilePictureFile) {
                formData.append('profilePicture', profilePictureFile);
            }

            fetch('/api/updateUserInfo', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                console.log('Success:', data);
                alert('Information saved successfully!');
                $('#profilePicture').attr('src', URL.createObjectURL(profilePictureFile)).show();
            })
            .catch((error) => {
                console.error('Error:', error);
                alert('Failed to save information.');
            });

            $('#name, #age, #occupation, #bio').prop('readonly', true);
            $('#gender').prop('disabled', true);
            $('#editInfoBtn').show();
            $('#saveInfoBtn').hide();
            $('#profilePicture').show();
            $('#newProfilePicture').hide();
        });

        // Change Password Functionality
        $('#changePasswordBtn').click(function() {
            const newPassword = $('#newPassword').val();
            const confirmPassword = $('#confirmPassword').val();

            if (newPassword !== confirmPassword) {
                $('#passwordMismatchAlert').show();
            } else {
                $('#passwordMismatchAlert').hide();

                const passwordData = {
                    newPassword: newPassword
                };

                fetch('/api/changePassword', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(passwordData)
                })
                .then(response => response.json())
                .then(data => {
                    console.log('Success:', data);
                    alert('Password changed successfully!');
                    $('#newPassword').val('');
                    $('#confirmPassword').val('');
                })
                .catch((error) => {
                    console.error('Error:', error);
                    alert('Failed to change password.');
                });
            }
        });
    });

    jQuery(document).ready(function() {
        App.init();
        // App.initSliders();
        // App.initBxSlider();
    });
</script>
<!--[if lt IE 9]>
<script src="assets/js/respond.js"></script>
<![endif]-->
</body>
</html>



